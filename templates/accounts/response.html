<!DOCTYPE html>
{% load i18n %}
{% load static %}
{% get_current_language as LANGUAGE_CODE %}
<html  x-data="data()" lang="{{ LANGUAGE_CODE }}" dir="{% if LANGUAGE_CODE == 'ar' %}rtl{% else %}ltr{% endif %}">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Profile - Edu AI</title>

    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap"
      rel="stylesheet"/>

    <!-- CSS Files -->
    <link rel="stylesheet" href="{% static 'assets/css/tailwind.output.css' %}" />

    <!-- Alpine.js -->
    <script
      src="https://cdn.jsdelivr.net/gh/alpinejs/alpine@v2.x.x/dist/alpine.min.js"
      defer
    ></script>

    <!-- Initialization Script -->
    <script src="{% static 'assets/js/init-alpine.js' %}"></script>


  <!-- fontaswom CSS -->
  <link
  rel="stylesheet"
  href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"
  />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/flag-icon-css/3.5.0/css/flag-icon.min.css" />

<style>
    /* RTL specific adjustments */
    {% if LANGUAGE_CODE == 'ar' %}
    body {
        direction: rtl;
        text-align: right;
    }
    .navbar .dropdown-menu {
        right: 0; /* Align dropdown to the right in RTL */
        left: auto;
    }
    .ml-3 {
        margin-right: 1rem !important; /* Adjust left margin classes */
        margin-left: 0 !important;
    }
    .ms-3 {
        margin-left: 1rem !important;
        margin-right: 0 !important;
    }
    /* Adjust other spacing and alignment rules as needed */
    {% endif %}
    /* Container Styles */
#response-page {
    max-width: 700px;
    margin: 50px auto;
    background-color: #f8f9fa;
    padding: 40px;
    border-radius: 10px;
    box-shadow: 0px 0px 20px rgba(0, 0, 0, 0.1);
}

/* Header Styles */
#response-header h4 {
    font-size: 1.6rem;
    color: #333;
    margin-top: 10px;
}

#question-text {
    color: #6c757d;
    font-size: 1rem;
}

/* Response Content Styles */
#response-content {
    font-size: 1.1rem;
    color: #333;
    line-height: 1.6;
}

#response-content ol {
    padding-left: 20px;
}

#response-content li {
    margin-bottom: 10px;
}

/* Button Styles */
#response-buttons {
    display: flex;
    justify-content: center;
    gap: 15px;
}

#quiz-button,
#another-question-button {
    padding: 10px 20px;
    font-size: 1rem;
    border-radius: 5px;
    cursor: pointer;
    transition: background-color 0.3s ease;
}

#quiz-button {
    background-color: #343a40;
    color: #fff;
    border: none;
}

#quiz-button:hover {
    background-color: #23272b;
}

#another-question-button {
    background-color: #e0e7ff;
    color: #333;
    border: none;
}

#another-question-button:hover {
    background-color: #c3d2ff;
}

/* Quiz Info Text */
#quiz-info {
    color: #6c757d;
    font-size: 0.9rem;
    margin-top: 20px;
}

/* Modal background overlay */
.modal {
    display: none;
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.5);
    z-index: 1000;
    align-items: center;
    justify-content: center;
}

/* Modal content box */
.modal-content {
    background-color: #fff;
    width: 500px;
    padding: 30px;
    border-radius: 10px;
    box-shadow: 0px 0px 15px rgba(0, 0, 0, 0.3);
    position: relative;
    text-align: center;
}

/* Close button */
.close-button {
    position: absolute;
    top: 15px;
    right: 15px;
    font-size: 1.5rem;
    cursor: pointer;
}

/* Form styling */
.form-group {
    margin-bottom: 15px;
    text-align: left;
}

.form-group label {
    display: block;
    font-weight: bold;
    margin-bottom: 5px;
}

.dropdown {
    width: 100%;
    padding: 10px;
    font-size: 1rem;
    border: 1px solid #ced4da;
    border-radius: 5px;
}

/* Button styling */
#generate-quiz-button {
    background-color: #8c9eff;
    color: white;
    padding: 12px 20px;
    border: none;
    border-radius: 5px;
    cursor: pointer;
    font-size: 1rem;
    transition: background-color 0.3s ease;
}

#generate-quiz-button:hover {
    background-color: #536dfe;
}

</style>
</head>
  <body>
    <div
      class="flex h-screen bg-gray-50 dark:bg-gray-900"
      :class="{ 'overflow-hidden': isSideMenuOpen }"
    >
      <!-- Desktop sidebar -->
      <aside
    class="z-20 hidden w-64 overflow-y-auto bg-white dark:bg-gray-800 md:block flex-shrink-0"
    {% if LANGUAGE_CODE == 'ar' %}dir="rtl"{% endif %}
>
    <div class="py-4 text-gray-500 dark:text-gray-400">
        <a href="{% url 'home' %}">
            <img src="{% static 'images/logo.png' %}" alt="{% trans "EDUAI" %}" width="130">
        </a>
        <ul class="mt-6">
            <li class="relative px-6 py-3">
                <span
                    class="absolute inset-y-0 {% if LANGUAGE_CODE == 'ar' %}right-0{% else %}left-0{% endif %} w-1 bg-purple-600 rounded-tr-lg rounded-br-lg"
                    aria-hidden="true"
                ></span>
                <a
                    class="inline-flex items-center w-full text-sm font-semibold text-gray-800 transition-colors duration-150 hover:text-gray-800 dark:hover:text-gray-200 dark:text-gray-100"
                    href="{% url 'profile' %}"
                >
                    <svg
                        class="w-5 h-5"
                        aria-hidden="true"
                        fill="none"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                        stroke-width="2"
                        viewBox="0 0 24 24"
                        stroke="currentColor"
                    >
                        <path
                            d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"
                        ></path>
                    </svg>
                    <span class="{% if LANGUAGE_CODE == 'ar' %}mr-4{% else %}ml-4{% endif %}">{% trans "My space" %}</span>
                </a>
            </li>
        </ul>
        <ul>
            <li class="relative px-6 py-3">
                <a
                    class="inline-flex items-center w-full text-sm font-semibold transition-colors duration-150 hover:text-gray-800 dark:hover:text-gray-200"
                    href="{% url 'subjects' %}"
                >
                    <i class="fas fa-layer-group w-5 h-5"></i>
                    <span class="{% if LANGUAGE_CODE == 'ar' %}mr-4{% else %}ml-4{% endif %}">{% trans "Material" %}</span>
                </a>
            </li>
            <li class="relative px-6 py-3">
                <a
                    class="inline-flex items-center w-full text-sm font-semibold transition-colors duration-150 hover:text-gray-800 dark:hover:text-gray-200"
                    href="#"
                >
                    <i class="fas fa-file-alt w-5 h-5"></i>
                    <span class="{% if LANGUAGE_CODE == 'ar' %}mr-4{% else %}ml-4{% endif %}">{% trans "Daily Exam" %}</span>
                </a>
            </li>
            <li class="relative px-6 py-3">
                <a
                    class="inline-flex items-center w-full text-sm font-semibold transition-colors duration-150 hover:text-gray-800 dark:hover:text-gray-200"
                    href="#"
                >
                    <i class="fas fa-calendar-alt w-5 h-5"></i>
                    <span class="{% if LANGUAGE_CODE == 'ar' %}mr-4{% else %}ml-4{% endif %}">{% trans "Planner" %}</span>
                </a>
            </li>

            <li class="relative px-6 py-3">
                <button
                    class="inline-flex items-center justify-between w-full text-sm font-semibold transition-colors duration-150 hover:text-gray-800 dark:hover:text-gray-200"
                    @click="togglePagesMenu"
                    aria-haspopup="true"
                >
                    <span class="inline-flex items-center">
                        <svg
                            class="w-5 h-5"
                            aria-hidden="true"
                            fill="none"
                            stroke-linecap="round"
                            stroke-linejoin="round"
                            stroke-width="2"
                            viewBox="0 0 24 24"
                            stroke="currentColor"
                        >
                            <path
                                d="M4 5a1 1 0 011-1h14a1 1 0 011 1v2a1 1 0 01-1 1H5a1 1 0 01-1-1V5zM4 13a1 1 0 011-1h6a1 1 0 011 1v6a1 1 0 01-1 1H5a1 1 0 01-1-1v-6zM16 13a1 1 0 011-1h2a1 1 0 011 1v6a1 1 0 01-1 1h-2a1 1 0 01-1-1v-6z"
                            ></path>
                        </svg>
                        <span class="{% if LANGUAGE_CODE == 'ar' %}mr-4{% else %}ml-4{% endif %}">{% trans "Pages" %}</span>
                    </span>
                    <svg
                        class="w-4 h-4"
                        aria-hidden="true"
                        fill="currentColor"
                        viewBox="0 0 20 20"
                    >
                        <path
                            fill-rule="evenodd"
                            d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a 1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z"
                            clip-rule="evenodd"
                        ></path>
                    </svg>
                </button>
                <template x-if="isPagesMenuOpen">
                    <ul
                        x-transition:enter="transition-all ease-in-out duration-300"
                        x-transition:enter-start="opacity-25 max-h-0"
                        x-transition:enter-end="opacity-100 max-h-xl"
                        x-transition:leave="transition-all ease-in-out duration-300"
                        x-transition:leave-start="opacity-100 max-h-xl"
                        x-transition:leave-end="opacity-0 max-h-0"
                        class="p-2 mt-2 space-y-2 overflow-hidden text-sm font-medium text-gray-500 rounded-md shadow-inner bg-gray-50 dark:text-gray-400 dark:bg-gray-900"
                        aria-label="submenu"
                    >
                        <li class="px-2 py-1 transition-colors duration-150 hover:text-gray-800 dark:hover:text-gray-200">
                            <a class="w-full" href="{% url 'profile_edit' %}">{% trans "Edit profile" %}</a>
                        </li>
                        <li class="px-2 py-1 transition-colors duration-150 hover:text-gray-800 dark:hover:text-gray-200">
                            <a class="w-full" href="{% url 'password_change' %}">{% trans "Change password" %}</a>
                        </li>
                        <li class="px-2 py-1 transition-colors duration-150 hover:text-gray-800 dark:hover:text-gray-200">
                            <a class="w-full" href="{% url 'home' %}">{% trans "Home" %}</a>
                        </li>
                    </ul>
                </template>
            </li>
        </ul>
    </div>
</aside>
      <!-- Mobile sidebar -->
      <!-- Backdrop -->
      <div
        x-show="isSideMenuOpen"
        x-transition:enter="transition ease-in-out duration-150"
        x-transition:enter-start="opacity-0"
        x-transition:enter-end="opacity-100"
        x-transition:leave="transition ease-in-out duration-150"
        x-transition:leave-start="opacity-100"
        x-transition:leave-end="opacity-0"
        class="fixed inset-0 z-10 flex items-end bg-black bg-opacity-50 sm:items-center sm:justify-center"
      ></div>
      <aside
    class="fixed inset-y-0 z-20 flex-shrink-0 w-64 mt-16 overflow-y-auto bg-white dark:bg-gray-800 md:hidden"
    x-show="isSideMenuOpen"
    x-transition:enter="transition ease-in-out duration-150"
    x-transition:enter-start="opacity-0 transform {% if LANGUAGE_CODE == 'ar' %}translate-x-20{% else %}-translate-x-20{% endif %}"
    x-transition:enter-end="opacity-100"
    x-transition:leave="transition ease-in-out duration-150"
    x-transition:leave-start="opacity-100"
    x-transition:leave-end="opacity-0 transform {% if LANGUAGE_CODE == 'ar' %}-translate-x-20{% else %}translate-x-20{% endif %}"
    @click.away="closeSideMenu"
    @keydown.escape="closeSideMenu"
    {% if LANGUAGE_CODE == 'ar' %}dir="rtl"{% endif %}
>
    <div class="py-4 text-gray-500 dark:text-gray-400">
        <a href="{% url 'home' %}">
            <img src="{% static 'images/logo.png' %}" alt="{% trans "EDUAI" %}" width="130">
        </a>
        <ul class="mt-6">
            <li class="relative px-6 py-3">
                <span
                    class="absolute inset-y-0 {% if LANGUAGE_CODE == 'ar' %}right-0{% else %}left-0{% endif %} w-1 bg-purple-600 rounded-tr-lg rounded-br-lg"
                    aria-hidden="true"
                ></span>
                <a
                    class="inline-flex items-center w-full text-sm font-semibold text-gray-800 transition-colors duration-150 hover:text-gray-800 dark:hover:text-gray-200 dark:text-gray-100"
                    href="{% url 'profile' %}"
                >
                    <svg
                        class="w-5 h-5"
                        aria-hidden="true"
                        fill="none"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                        stroke-width="2"
                        viewBox="0 0 24 24"
                        stroke="currentColor"
                    >
                        <path
                            d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"
                        ></path>
                    </svg>
                    <span class="{% if LANGUAGE_CODE == 'ar' %}mr-4{% else %}ml-4{% endif %}">{% trans "My space" %}</span>
                </a>
            </li>
        </ul>

        <ul>
            <li class="relative px-6 py-3">
                <a
                    class="inline-flex items-center w-full text-sm font-semibold transition-colors duration-150 hover:text-gray-800 dark:hover:text-gray-200"
                    href="{% url 'subjects' %}"
                >
                    <i class="fas fa-layer-group w-5 h-5"></i>
                    <span class="{% if LANGUAGE_CODE == 'ar' %}mr-4{% else %}ml-4{% endif %}">{% trans "Material" %}</span>
                </a>
            </li>
            <li class="relative px-6 py-3">
                <a
                    class="inline-flex items-center w-full text-sm font-semibold transition-colors duration-150 hover:text-gray-800 dark:hover:text-gray-200"
                    href="#"
                >
                    <i class="fas fa-file-alt w-5 h-5"></i>
                    <span class="{% if LANGUAGE_CODE == 'ar' %}mr-4{% else %}ml-4{% endif %}">{% trans "Daily Exam" %}</span>
                </a>
            </li>
            <li class="relative px-6 py-3">
                <a
                    class="inline-flex items-center w-full text-sm font-semibold transition-colors duration-150 hover:text-gray-800 dark:hover:text-gray-200"
                    href="#"
                >
                    <i class="fas fa-calendar-alt w-5 h-5"></i>
                    <span class="{% if LANGUAGE_CODE == 'ar' %}mr-4{% else %}ml-4{% endif %}">{% trans "Planner" %}</span>
                </a>
            </li>

            <li class="relative px-6 py-3">
                <button
                    class="inline-flex items-center justify-between w-full text-sm font font-semibold transition-colors duration-150 hover:text-gray-800 dark:hover:text-gray-200"
                    @click="togglePagesMenu"
                    aria-haspopup="true"
                >
                    <span class="inline-flex items-center">
                        <svg
                            class="w-5 h-5"
                            aria-hidden="true"
                            fill="none"
                            stroke-linecap="round"
                            stroke-linejoin="round"
                            stroke-width="2"
                            viewBox="0 0 24 24"
                            stroke="currentColor"
                        >
                            <path
                                d="M4 5a1 1 0 011-1h14a1 1 0 011 1v2a1 1 0 01-1 1H5a1 1 0 01-1-1V5zM4 13a1 1 0 011-1h6a1 1 0 011 1v6a1 1 0 01-1 1H5a1 1 0 01-1-1v-6zM16 13a1 1 0 011-1h2a1 1 0 011 1v6a1 1 0 01-1 1h-2a1 1 0 01-1-1v-6z"
                            ></path>
                        </svg>
                        <span class="{% if LANGUAGE_CODE == 'ar' %}mr-4{% else %}ml-4{% endif %}">{% trans "Pages" %}</span>
                    </span>
                    <svg
                        class="w-4 h-4"
                        aria-hidden="true"
                        fill="currentColor"
                        viewBox="0 0 20 20"
                    >
                        <path
                            fill-rule="evenodd"
                            d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a 1 1 0 111.414 1.414l-4 4a 1 1 0 01-1.414 0l-4-4a 1 1 0 010-1.414z"
                            clip-rule="evenodd"
                        ></path>
                    </svg>
                </button>
                <template x-if="isPagesMenuOpen">
                    <ul
                        x-transition:enter="transition-all ease-in-out duration-300"
                        x-transition:enter-start="opacity-25 max-h-0"
                        x-transition:enter-end="opacity-100 max-h-xl"
                        x-transition:leave="transition-all ease-in-out duration-300"
                        x-transition:leave-start="opacity-100 max-h-xl"
                        x-transition:leave-end="opacity-0 max-h-0"
                        class="p-2 mt-2 space-y-2 overflow-hidden text-sm font-medium text-gray-500 rounded-md shadow-inner bg-gray-50 dark:text-gray-400 dark:bg-gray-900"
                        aria-label="submenu"
                    >
                        <li class="px-2 py-1 transition-colors duration-150 hover:text-gray-800 dark:hover:text-gray-200">
                            <a class="w-full" href="{% url 'profile_edit' %}">{% trans "Edit profile" %}</a>
                        </li>
                        <li class="px-2 py-1 transition-colors duration-150 hover:text-gray-800 dark:hover:text-gray-200">
                            <a class="w-full" href="{% url 'password_change' %}">{% trans "Change password" %}</a>
                        </li>
                        <li class="px-2 py-1 transition-colors duration-150 hover:text-gray-800 dark:hover:text-gray-200">
                            <a class="w-full" href="{% url 'home' %}">{% trans "Home" %}</a>
                        </li>
                    </ul>
                </template>
            </li>
        </ul>
    </div>
</aside>
      <div class="flex flex-col flex-1 w-full">
        <header class="z-10 py-4 bg-white shadow-md dark:bg-gray-800">
    <div
        class="container flex items-center justify-between h-full px-6 mx-auto text-purple-600 dark:text-purple-300"
    >
        <!-- Mobile hamburger -->
        <button
            class="p-1 {% if LANGUAGE_CODE == 'ar' %}ml-5 -mr-1{% else %}mr-5 -ml-1{% endif %} rounded-md md:hidden focus:outline-none focus:shadow-outline-purple"
            @click="toggleSideMenu"
            aria-label="Menu"
        >
            <svg
                class="w-6 h-6"
                aria-hidden="true"
                fill="currentColor"
                viewBox="0 0 20 20"
            >
                <path
                    fill-rule="evenodd"
                    d="M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 15a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z"
                    clip-rule="evenodd"
                ></path>
            </svg>
        </button>

        <!-- Search input -->
        <div class="flex justify-center flex-1 {% if LANGUAGE_CODE == 'ar' %}lg:ml-32{% else %}lg:mr-32{% endif %}">
            <div class="relative w-full max-w-xl {% if LANGUAGE_CODE == 'ar' %}ml-6{% else %}mr-6{% endif %} focus-within:text-purple-500">
                <div class="absolute inset-y-0 flex items-center {% if LANGUAGE_CODE == 'ar' %}pr-2{% else %}pl-2{% endif %}">
                    <svg
                        class="w-4 h-4"
                        aria-hidden="true"
                        fill="currentColor"
                        viewBox="0 0 20 20"
                    >
                        <path
                            fill-rule="evenodd"
                            d="M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z"
                            clip-rule="evenodd"
                        ></path>
                    </svg>
                </div>
                <input
                    class="w-full {% if LANGUAGE_CODE == 'ar' %}pr-8 pl-2{% else %}pl-8 pr-2{% endif %} text-sm text tag-gray-700 placeholder-gray-600 bg-gray-100 border-0 rounded-md dark:placeholder-gray-500 dark:focus:shadow-outline-gray dark:focus:placeholder-gray-600 dark:bg-gray-700 dark:text-gray-200 focus:placeholder-gray-500 focus:bg-white focus:border-purple-300 focus:outline-none focus:shadow-outline-purple form-input"
                    type="text"
                    placeholder="{% trans 'Search for Chats' %}"
                    aria-label="{% trans 'Search' %}"
                />
            </div>
        </div>

        <ul class="flex items-center flex-shrink-0 {% if LANGUAGE_CODE == 'ar' %}space-x-reverse{% endif %} space-x-6">
            <!-- Language Selector -->
            <li class="relative">
              <button
                class="relative align-middle rounded-md focus:outline-none focus:shadow-outline-purple"
                @click="isNotificationsMenuOpen = (isNotificationsMenuOpen === 'language' ? null : 'language')"
                @keydown.escape="isNotificationsMenuOpen = null"
                aria-label="Language"
                aria-haspopup="true"
              >
                <!-- Display only the selected language's flag icon -->
                {% if LANGUAGE_CODE == 'fr' %}
                  <i class="flag-icon flag-icon-fr"></i>
                {% elif LANGUAGE_CODE == 'ar' %}
                  <i class="flag-icon flag-icon-ma"></i>
                {% else %}
                  <i class="flag-icon flag-icon-gb"></i>
                {% endif %}
              </button>

              <!-- Language Options Dropdown -->
              <template x-if="isNotificationsMenuOpen === 'language'">
                <ul
                  x-transition:leave="transition ease-in duration-150"
                  x-transition:leave-start="opacity-100"
                  x-transition:leave-end="opacity-0"
                  @click.away="isNotificationsMenuOpen = null"
                  @keydown.escape="isNotificationsMenuOpen = null"
                  class="absolute right-0 w-20 p-2 mt-2 space-y-2 bg-white border border-gray-100 rounded-md shadow-md dark:border-gray-700 dark:bg-gray-700"
                >
                  <form action="{% url 'set_language' %}" method="post">
                    {% csrf_token %}
                    <input name="next" type="hidden" value="{{ request.path }}">

                    <!-- Language Options with Only Font Awesome Flags -->
                    <li>
                      <button class="w-full text-left inline-flex items-center justify-center px-2 py-1 transition-colors duration-150 rounded-md hover:bg-gray-100 dark:hover:bg-gray-800" type="submit" name="language" value="fr">
                        <i class="flag-icon flag-icon-fr"></i>
                      </button>
                    </li>
                    <li>
                      <button class="w-full text-left inline-flex items-center justify-center px-2 py-1 transition-colors duration-150 rounded-md hover:bg-gray-100 dark:hover:bg-gray-800" type="submit" name="language" value="en">
                        <i class="flag-icon flag-icon-gb"></i>
                      </button>
                    </li>
                    <li>
                      <button class="w-full text-left inline-flex items-center justify-center px-2 py-1 transition-colors duration-150 rounded-md hover:bg-gray-100 dark:hover:bg-gray-800" type="submit" name="language" value="ar">
                          <i class="flag-icon flag-icon-ma"></i>
                      </button>
                    </li>
                  </form>
                </ul>
              </template>
            </li>
            <!-- Profile menu -->
            <li class="relative">
                <button
                    class="align-middle rounded-full focus:shadow-outline-purple focus:outline-none"
                    @click="toggleProfileMenu"
                    @keydown.escape="closeProfileMenu"
                    aria-label="Account"
                    aria-haspopup="true"
                >
                    {% if user.profile.image %}
                        <img class="object-cover w-8 h-8 rounded-full" src="{{ user.profile.image.url }}" aria-hidden="true" />
                    {% else %}
                        <span class="font-weight-bold mt-5">{{ user.username }}</span>
                    {% endif %}
                </button>
                <template x-if="isProfileMenuOpen">
                    <ul
                        x-transition:leave="transition ease-in duration-150"
                        x-transition:leave-start="opacity-100"
                        x-transition:leave-end="opacity-0"
                        @click.away="closeProfileMenu"
                        @keydown.escape="closeProfileMenu"
                        class="absolute {% if LANGUAGE_CODE == 'ar' %}left-0{% else %}right-0{% endif %} w-56 p-2 mt-2 space-y-2 text-gray-600 bg-white border border-gray-100 rounded-md shadow-md dark:border-gray-700 dark:text-gray-300 dark:bg-gray-700"
                        aria-label="submenu"
                    >
                        <li class="flex">
                            <a
                                class="inline-flex items-center w-full px-2 py-1 text-sm font-semibold transition-colors duration-150 rounded-md hover:bg-gray-100 hover:text-gray-800 dark:hover:bg-gray-800 dark:hover:text-gray-200"
                                href="{% url 'logout' %}"
                            >
                                <svg
                                    class="w-4 h-4 {% if LANGUAGE_CODE == 'ar' %}ml-3{% else %}mr-3{% endif %}"
                                    aria-hidden="true"
                                    fill="none"
                                    stroke-linecap="round"
                                    stroke-linejoin="round"
                                    stroke-width="2"
                                    viewBox="0 0 24 24"
                                    stroke="currentColor"
                                >
                                    <path
                                        d="M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1"
                                    ></path>
                                </svg>
                                <span>{% trans "Log out" %}</span>
                            </a>
                        </li>
                    </ul>
                </template>
            </li>
        </ul>
    </div>
</header>
        <main class="h-full overflow-y-auto">
           <div id="response-page" class="container mt-5 p-4 border rounded shadow-sm">
                <div id="response-header" class="text-center mb-4">
                    <img src="{% static 'images/icons/robot.png' %}" alt="{% trans 'Robot Icon' %}" style="width: 50px;">
                    <h4 class="mt-3">{% trans "Here's the answer for your question" %}</h4>
                    <p class="text-muted" id="question-text">"What are the layers of the atmosphere?"</p>
                </div>

                <div id="response-content">
                    <p>The atmosphere is composed of several layers:</p>
                    <ol>
                        <li><strong>Troposphere:</strong> The layer closest to Earth's surface, where all weather phenomena occur.</li>
                        <li><strong>Stratosphere:</strong> Contains the ozone layer, which protects the Earth from harmful ultraviolet radiation.</li>
                        <li><strong>Mesosphere:</strong> The layer where meteors burn up upon entering Earth's atmosphere.</li>
                        <li><strong>Thermosphere:</strong> Contains the auroras, and temperatures increase with altitude.</li>
                        <li><strong>Exosphere:</strong> The outermost layer where the atmosphere gradually merges into outer space.</li>
                    </ol>
                </div>

                <div id="response-buttons" class="text-center mt-4">
            <button id="quiz-button" onclick="openModal()">Quiz</button>
                    <button id="another-question-button" class="btn btn-secondary">Another Question</button>
                </div>

                <p id="quiz-info" class="text-muted mt-4 text-center">
                    Want to test your knowledge? Click the 'Quiz' button to take a short quiz based on the question you asked. Challenge yourself and see how much you've learned!
                </p>
            </div>

            <div id="quiz-modal" class="modal">
                <div class="modal-content">
                    <span class="close-button" onclick="closeModal()">&times;</span>
                    <h3>Choose how many questions you want and the type of questions. Once you're ready, click 'Generate Quiz' to start practicing.</h3>

                    <form id="quiz-form">
                        <div class="form-group">
                            <label for="num-questions">Number of Questions*</label>
                            <select id="num-questions" class="dropdown">
                                <option value="5">5</option>
                                <option value="10">10</option>
                                <option value="15">15</option>
                                <option value="20">20</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label for="question-type">Question Type*</label>
                            <select id="question-type" class="dropdown">
                                <option value="multiple-choice">Multiple Choice</option>
                                <option value="true-false">True/False</option>
                            </select>
                        </div>

                        <button type="button" id="generate-quiz-button" onclick="generateQuiz()">Generate Quiz</button>
                    </form>
                </div>
            </div>
        </main>
      </div>
    </div>
    <script>


        // Function to open the modal
        function openModal() {
            document.getElementById("quiz-modal").style.display = "flex";
        }

        // Function to close the modal
        function closeModal() {
            document.getElementById("quiz-modal").style.display = "none";
        }

        // Close modal when clicking outside the modal content
        window.onclick = function(event) {
            var modal = document.getElementById("quiz-modal");
            if (event.target == modal) {
                closeModal();
            }
        }

        // Example function for generating the quiz
        function generateQuiz() {
            const numQuestions = document.getElementById("num-questions").value;
            const questionType = document.getElementById("question-type").value;
            alert(`Quiz generated with ${numQuestions} ${questionType} questions!`);
            closeModal();
        }

</script>
  </body>
</html>
